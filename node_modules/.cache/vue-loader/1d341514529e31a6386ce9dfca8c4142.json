{"remainingRequest":"E:\\vue\\market\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue\\market\\src\\components\\common\\scroll\\Scroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue\\market\\src\\components\\common\\scroll\\Scroll.vue","mtime":1628495651932},{"path":"E:\\vue\\market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\market\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQlNjcm9sbCBmcm9tICJiZXR0ZXItc2Nyb2xsIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgIC8qKg0KICAgICAqIDEg5rua5Yqo55qE5pe25YCZ5Lya5rS+5Y+Rc2Nyb2xs5LqL5Lu277yM5Lya5oiq5rWB44CCDQogICAgICogMiDmu5rliqjnmoTml7blgJnlrp7ml7bmtL7lj5FzY3JvbGzkuovku7bvvIzkuI3kvJrmiKrmtYHjgIINCiAgICAgKiAzIOmZpOS6huWunuaXtua0vuWPkXNjcm9sbOS6i+S7tu+8jOWcqHN3aXBl55qE5oOF5Ya15LiL5LuN54S26IO95a6e5pe25rS+5Y+Rc2Nyb2xs5LqL5Lu2DQogICAgICovDQogICAgcHJvYmVUeXBlOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAxLA0KICAgIH0sDQogICAgLyoqDQogICAgICog54K55Ye75YiX6KGo5piv5ZCm5rS+5Y+RY2xpY2vkuovku7YNCiAgICAgKi8NCiAgICBjbGljazogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUsDQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmmK/lkKblvIDlkK/mqKrlkJHmu5rliqgNCiAgICAgKi8NCiAgICBzY3JvbGxYOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmmK/lkKbmtL7lj5Hmu5rliqjkuovku7YNCiAgICAgKi8NCiAgICBsaXN0ZW5TY3JvbGw6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZSwNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWIl+ihqOeahOaVsOaNrg0KICAgICAqLw0KICAgIGRhdGE6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgZGVmYXVsdDogbnVsbCwNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOaYr+WQpua0vuWPkea7muWKqOWIsOW6lemDqOeahOS6i+S7tu+8jOeUqOS6juS4iuaLieWKoOi9vQ0KICAgICAqLw0KICAgIHB1bGx1cDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUsDQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmmK/lkKbmtL7lj5Hpobbpg6jkuIvmi4nnmoTkuovku7bvvIznlKjkuo7kuIvmi4nliLfmlrANCiAgICAgKi8NCiAgICBwdWxsZG93bjogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgLyoqDQogICAgICog5piv5ZCm5rS+5Y+R5YiX6KGo5rua5Yqo5byA5aeL55qE5LqL5Lu2DQogICAgICovDQogICAgYmVmb3JlU2Nyb2xsOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICAvKioNCiAgICAgKiDlvZPmlbDmja7mm7TmlrDlkI7vvIzliLfmlrBzY3JvbGznmoTlu7bml7bjgIINCiAgICAgKi8NCiAgICByZWZyZXNoRGVsYXk6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDIwLA0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgLy8g5L+d6K+B5ZyoRE9N5riy5p+T5a6M5q+V5ZCO5Yid5aeL5YyWYmV0dGVyLXNjcm9sbA0KICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgdGhpcy5faW5pdFNjcm9sbCgpOw0KICAgIH0sIDIwKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIF9pbml0U2Nyb2xsKCkgew0KICAgICAgaWYgKCF0aGlzLiRyZWZzLndyYXBwZXIpIHsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgLy8gYmV0dGVyLXNjcm9sbOeahOWIneWni+WMlg0KICAgICAgdGhpcy5zY3JvbGwgPSBuZXcgQlNjcm9sbCh0aGlzLiRyZWZzLndyYXBwZXIsIHsNCiAgICAgICAgcHJvYmVUeXBlOiB0aGlzLnByb2JlVHlwZSwNCiAgICAgICAgY2xpY2s6IHRoaXMuY2xpY2ssDQogICAgICAgIHNjcm9sbFg6IHRoaXMuc2Nyb2xsWCwNCiAgICAgIH0pOw0KDQogICAgICAvLyDmmK/lkKbmtL7lj5Hmu5rliqjkuovku7YNCiAgICAgIGlmICh0aGlzLmxpc3RlblNjcm9sbCkgew0KICAgICAgICBsZXQgbWUgPSB0aGlzOw0KICAgICAgICB0aGlzLnNjcm9sbC5vbigic2Nyb2xsIiwgKHBvcykgPT4gew0KICAgICAgICAgIG1lLiRlbWl0KCJzY3JvbGwiLCBwb3MpOw0KICAgICAgICB9KTsNCiAgICAgIH0NCg0KICAgICAgLy8g5piv5ZCm5rS+5Y+R5rua5Yqo5Yiw5bqV6YOo5LqL5Lu277yM55So5LqO5LiK5ouJ5Yqg6L29DQogICAgICBpZiAodGhpcy5wdWxsdXApIHsNCiAgICAgICAgdGhpcy5zY3JvbGwub24oInNjcm9sbEVuZCIsICgpID0+IHsNCiAgICAgICAgICAvLyDmu5rliqjliLDlupXpg6gNCiAgICAgICAgICBpZiAodGhpcy5zY3JvbGwueSA8PSB0aGlzLnNjcm9sbC5tYXhTY3JvbGxZICsgNTApIHsNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoInNjcm9sbFRvRW5kIik7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0NCg0KICAgICAgLy8g5piv5ZCm5rS+5Y+R6aG26YOo5LiL5ouJ5LqL5Lu277yM55So5LqO5LiL5ouJ5Yi35pawDQogICAgICBpZiAodGhpcy5wdWxsZG93bikgew0KICAgICAgICB0aGlzLnNjcm9sbC5vbigidG91Y2hlbmQiLCAocG9zKSA9PiB7DQogICAgICAgICAgLy8g5LiL5ouJ5Yqo5L2cDQogICAgICAgICAgaWYgKHBvcy55ID4gNTApIHsNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoInB1bGxkb3duIik7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgIH0NCg0KICAgICAgLy8g5piv5ZCm5rS+5Y+R5YiX6KGo5rua5Yqo5byA5aeL55qE5LqL5Lu2DQogICAgICBpZiAodGhpcy5iZWZvcmVTY3JvbGwpIHsNCiAgICAgICAgdGhpcy5zY3JvbGwub24oImJlZm9yZVNjcm9sbFN0YXJ0IiwgKCkgPT4gew0KICAgICAgICAgIHRoaXMuJGVtaXQoImJlZm9yZVNjcm9sbCIpOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGRpc2FibGUoKSB7DQogICAgICAvLyDku6PnkIZiZXR0ZXItc2Nyb2xs55qEZGlzYWJsZeaWueazlQ0KICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuZGlzYWJsZSgpOw0KICAgIH0sDQogICAgZW5hYmxlKCkgew0KICAgICAgLy8g5Luj55CGYmV0dGVyLXNjcm9sbOeahGVuYWJsZeaWueazlQ0KICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuZW5hYmxlKCk7DQogICAgfSwNCiAgICByZWZyZXNoKCkgew0KICAgICAgLy8g5Luj55CGYmV0dGVyLXNjcm9sbOeahHJlZnJlc2jmlrnms5UNCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnJlZnJlc2goKTsNCiAgICB9LA0KICAgIHNjcm9sbFRvKCkgew0KICAgICAgLy8g5Luj55CGYmV0dGVyLXNjcm9sbOeahHNjcm9sbFRv5pa55rOVDQogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUby5hcHBseSh0aGlzLnNjcm9sbCwgYXJndW1lbnRzKTsNCiAgICB9LA0KICAgIHNjcm9sbFRvRWxlbWVudCgpIHsNCiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRzY3JvbGxUb0VsZW1lbnTmlrnms5UNCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLnNjcm9sbFRvRWxlbWVudC5hcHBseSh0aGlzLnNjcm9sbCwgYXJndW1lbnRzKTsNCiAgICB9LA0KICB9LA0KICB3YXRjaDogew0KICAgIC8vIOebkeWQrOaVsOaNrueahOWPmOWMlu+8jOW7tuaXtnJlZnJlc2hEZWxheeaXtumXtOWQjuiwg+eUqHJlZnJlc2jmlrnms5Xph43mlrDorqHnrpfvvIzkv53or4Hmu5rliqjmlYjmnpzmraPluLgNCiAgICBkYXRhKCkgew0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRoaXMucmVmcmVzaCgpOw0KICAgICAgfSwgdGhpcy5yZWZyZXNoRGVsYXkpOw0KICAgIH0sDQogIH0sDQp9Ow0K"},{"version":3,"sources":["Scroll.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Scroll.vue","sourceRoot":"src/components/common/scroll","sourcesContent":["<!--  -->\r\n<template>\r\n  <div ref=\"wrapper\">\r\n    <div class=\"content\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BScroll from \"better-scroll\";\r\n\r\nexport default {\r\n  props: {\r\n    /**\r\n     * 1 滚动的时候会派发scroll事件，会截流。\r\n     * 2 滚动的时候实时派发scroll事件，不会截流。\r\n     * 3 除了实时派发scroll事件，在swipe的情况下仍然能实时派发scroll事件\r\n     */\r\n    probeType: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    /**\r\n     * 点击列表是否派发click事件\r\n     */\r\n    click: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    /**\r\n     * 是否开启横向滚动\r\n     */\r\n    scrollX: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    /**\r\n     * 是否派发滚动事件\r\n     */\r\n    listenScroll: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    /**\r\n     * 列表的数据\r\n     */\r\n    data: {\r\n      type: Array,\r\n      default: null,\r\n    },\r\n    /**\r\n     * 是否派发滚动到底部的事件，用于上拉加载\r\n     */\r\n    pullup: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    /**\r\n     * 是否派发顶部下拉的事件，用于下拉刷新\r\n     */\r\n    pulldown: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    /**\r\n     * 是否派发列表滚动开始的事件\r\n     */\r\n    beforeScroll: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    /**\r\n     * 当数据更新后，刷新scroll的延时。\r\n     */\r\n    refreshDelay: {\r\n      type: Number,\r\n      default: 20,\r\n    },\r\n  },\r\n  mounted() {\r\n    // 保证在DOM渲染完毕后初始化better-scroll\r\n    setTimeout(() => {\r\n      this._initScroll();\r\n    }, 20);\r\n  },\r\n  methods: {\r\n    _initScroll() {\r\n      if (!this.$refs.wrapper) {\r\n        return;\r\n      }\r\n      // better-scroll的初始化\r\n      this.scroll = new BScroll(this.$refs.wrapper, {\r\n        probeType: this.probeType,\r\n        click: this.click,\r\n        scrollX: this.scrollX,\r\n      });\r\n\r\n      // 是否派发滚动事件\r\n      if (this.listenScroll) {\r\n        let me = this;\r\n        this.scroll.on(\"scroll\", (pos) => {\r\n          me.$emit(\"scroll\", pos);\r\n        });\r\n      }\r\n\r\n      // 是否派发滚动到底部事件，用于上拉加载\r\n      if (this.pullup) {\r\n        this.scroll.on(\"scrollEnd\", () => {\r\n          // 滚动到底部\r\n          if (this.scroll.y <= this.scroll.maxScrollY + 50) {\r\n            this.$emit(\"scrollToEnd\");\r\n          }\r\n        });\r\n      }\r\n\r\n      // 是否派发顶部下拉事件，用于下拉刷新\r\n      if (this.pulldown) {\r\n        this.scroll.on(\"touchend\", (pos) => {\r\n          // 下拉动作\r\n          if (pos.y > 50) {\r\n            this.$emit(\"pulldown\");\r\n          }\r\n        });\r\n      }\r\n\r\n      // 是否派发列表滚动开始的事件\r\n      if (this.beforeScroll) {\r\n        this.scroll.on(\"beforeScrollStart\", () => {\r\n          this.$emit(\"beforeScroll\");\r\n        });\r\n      }\r\n    },\r\n    disable() {\r\n      // 代理better-scroll的disable方法\r\n      this.scroll && this.scroll.disable();\r\n    },\r\n    enable() {\r\n      // 代理better-scroll的enable方法\r\n      this.scroll && this.scroll.enable();\r\n    },\r\n    refresh() {\r\n      // 代理better-scroll的refresh方法\r\n      this.scroll && this.scroll.refresh();\r\n    },\r\n    scrollTo() {\r\n      // 代理better-scroll的scrollTo方法\r\n      this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments);\r\n    },\r\n    scrollToElement() {\r\n      // 代理better-scroll的scrollToElement方法\r\n      this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments);\r\n    },\r\n  },\r\n  watch: {\r\n    // 监听数据的变化，延时refreshDelay时间后调用refresh方法重新计算，保证滚动效果正常\r\n    data() {\r\n      setTimeout(() => {\r\n        this.refresh();\r\n      }, this.refreshDelay);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n</style>"]}]}