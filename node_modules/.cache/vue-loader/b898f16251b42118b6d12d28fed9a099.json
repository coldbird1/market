{"remainingRequest":"E:\\vue\\market\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\vue\\market\\src\\components\\common\\scroll\\Scroll.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue\\market\\src\\components\\common\\scroll\\Scroll.vue","mtime":1628576863522},{"path":"E:\\vue\\market\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue\\market\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQlNjcm9sbCBmcm9tICJiZXR0ZXItc2Nyb2xsIjsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBwcm9wczogew0KICAgIC8qKg0KICAgICAqIDEg5rua5Yqo55qE5pe25YCZ5Lya5rS+5Y+Rc2Nyb2xs5LqL5Lu277yM5Lya5oiq5rWB44CCDQogICAgICogMiDmu5rliqjnmoTml7blgJnlrp7ml7bmtL7lj5FzY3JvbGzkuovku7bvvIzkuI3kvJrmiKrmtYHjgIINCiAgICAgKiAzIOmZpOS6huWunuaXtua0vuWPkXNjcm9sbOS6i+S7tu+8jOWcqHN3aXBl55qE5oOF5Ya15LiL5LuN54S26IO95a6e5pe25rS+5Y+Rc2Nyb2xs5LqL5Lu2DQogICAgICovDQogICAgcHJvYmVUeXBlOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAxLA0KICAgIH0sDQogICAgLyoqDQogICAgICog54K55Ye75YiX6KGo5piv5ZCm5rS+5Y+RY2xpY2vkuovku7YNCiAgICAgKi8NCiAgICBjbGljazogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUsDQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmmK/lkKblvIDlkK/mqKrlkJHmu5rliqgNCiAgICAgKi8NCiAgICBzY3JvbGxYOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICAvKioNCiAgICAgKiDmmK/lkKbmtL7lj5Hmu5rliqjkuovku7YNCiAgICAgKi8NCiAgICBsaXN0ZW5TY3JvbGw6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZSwNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWIl+ihqOeahOaVsOaNrg0KICAgICAqLw0KICAgIGRhdGE6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgZGVmYXVsdDogbnVsbCwNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOaYr+WQpua0vuWPkea7muWKqOWIsOW6lemDqOeahOS6i+S7tu+8jOeUqOS6juS4iuaLieWKoOi9vQ0KICAgICAqLw0KICAgIHB1bGx1cDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgLyoqDQogICAgICog5piv5ZCm5rS+5Y+R6aG26YOo5LiL5ouJ55qE5LqL5Lu277yM55So5LqO5LiL5ouJ5Yi35pawDQogICAgICovDQogICAgcHVsbGRvd246IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZSwNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOaYr+WQpua0vuWPkeWIl+ihqOa7muWKqOW8gOWni+eahOS6i+S7tg0KICAgICAqLw0KICAgIGJlZm9yZVNjcm9sbDogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogICAgLyoqDQogICAgICog5b2T5pWw5o2u5pu05paw5ZCO77yM5Yi35pawc2Nyb2xs55qE5bu25pe244CCDQogICAgICovDQogICAgcmVmcmVzaERlbGF5OiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAyMCwNCiAgICB9LA0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIC8vIOS/neivgeWcqERPTea4suafk+WujOavleWQjuWIneWni+WMlmJldHRlci1zY3JvbGwNCiAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgIHRoaXMuX2luaXRTY3JvbGwoKTsNCiAgICB9LCAyMCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBfaW5pdFNjcm9sbCgpIHsNCiAgICAgIGlmICghdGhpcy4kcmVmcy53cmFwcGVyKSB7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIC8vIGJldHRlci1zY3JvbGznmoTliJ3lp4vljJYNCiAgICAgIHRoaXMuc2Nyb2xsID0gbmV3IEJTY3JvbGwodGhpcy4kcmVmcy53cmFwcGVyLCB7DQogICAgICAgIHByb2JlVHlwZTogdGhpcy5wcm9iZVR5cGUsDQogICAgICAgIGNsaWNrOiB0aGlzLmNsaWNrLA0KICAgICAgICBzY3JvbGxYOiB0aGlzLnNjcm9sbFgsDQogICAgICB9KTsNCg0KICAgICAgLy8g5piv5ZCm5rS+5Y+R5rua5Yqo5LqL5Lu2DQogICAgICBpZiAodGhpcy5saXN0ZW5TY3JvbGwpIHsNCiAgICAgICAgbGV0IG1lID0gdGhpczsNCiAgICAgICAgdGhpcy5zY3JvbGwub24oInNjcm9sbCIsIChwb3MpID0+IHsNCiAgICAgICAgICBtZS4kZW1pdCgic2Nyb2xsIiwgcG9zKTsNCiAgICAgICAgfSk7DQogICAgICB9DQoNCiAgICAgIC8vIOaYr+WQpua0vuWPkea7muWKqOWIsOW6lemDqOS6i+S7tu+8jOeUqOS6juS4iuaLieWKoOi9vQ0KICAgICAgaWYgKHRoaXMucHVsbHVwKSB7DQogICAgICAgIHRoaXMuc2Nyb2xsLm9uKCJzY3JvbGxFbmQiLCAoKSA9PiB7DQogICAgICAgICAgLy8g5rua5Yqo5Yiw5bqV6YOoDQogICAgICAgICAgaWYgKHRoaXMuc2Nyb2xsLnkgPD0gdGhpcy5zY3JvbGwubWF4U2Nyb2xsWSArIDUwKSB7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCJzY3JvbGxUb0VuZCIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9DQoNCiAgICAgIC8vIOaYr+WQpua0vuWPkemhtumDqOS4i+aLieS6i+S7tu+8jOeUqOS6juS4i+aLieWIt+aWsA0KICAgICAgaWYgKHRoaXMucHVsbGRvd24pIHsNCiAgICAgICAgdGhpcy5zY3JvbGwub24oInRvdWNoZW5kIiwgKHBvcykgPT4gew0KICAgICAgICAgIC8vIOS4i+aLieWKqOS9nA0KICAgICAgICAgIGlmIChwb3MueSA+IDUwKSB7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCJwdWxsZG93biIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9DQoNCiAgICAgIC8vIOaYr+WQpua0vuWPkeWIl+ihqOa7muWKqOW8gOWni+eahOS6i+S7tg0KICAgICAgaWYgKHRoaXMuYmVmb3JlU2Nyb2xsKSB7DQogICAgICAgIHRoaXMuc2Nyb2xsLm9uKCJiZWZvcmVTY3JvbGxTdGFydCIsICgpID0+IHsNCiAgICAgICAgICB0aGlzLiRlbWl0KCJiZWZvcmVTY3JvbGwiKTsNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBkaXNhYmxlKCkgew0KICAgICAgLy8g5Luj55CGYmV0dGVyLXNjcm9sbOeahGRpc2FibGXmlrnms5UNCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLmRpc2FibGUoKTsNCiAgICB9LA0KICAgIGVuYWJsZSgpIHsNCiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRlbmFibGXmlrnms5UNCiAgICAgIHRoaXMuc2Nyb2xsICYmIHRoaXMuc2Nyb2xsLmVuYWJsZSgpOw0KICAgIH0sDQogICAgcmVmcmVzaCgpIHsNCiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRyZWZyZXNo5pa55rOVDQogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5yZWZyZXNoKCk7DQogICAgfSwNCiAgICBzY3JvbGxUbygpIHsNCiAgICAgIC8vIOS7o+eQhmJldHRlci1zY3JvbGznmoRzY3JvbGxUb+aWueazlQ0KICAgICAgdGhpcy5zY3JvbGwgJiYgdGhpcy5zY3JvbGwuc2Nyb2xsVG8uYXBwbHkodGhpcy5zY3JvbGwsIGFyZ3VtZW50cyk7DQogICAgfSwNCiAgICBzY3JvbGxUb0VsZW1lbnQoKSB7DQogICAgICAvLyDku6PnkIZiZXR0ZXItc2Nyb2xs55qEc2Nyb2xsVG9FbGVtZW505pa55rOVDQogICAgICB0aGlzLnNjcm9sbCAmJiB0aGlzLnNjcm9sbC5zY3JvbGxUb0VsZW1lbnQuYXBwbHkodGhpcy5zY3JvbGwsIGFyZ3VtZW50cyk7DQogICAgfSwNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICAvLyDnm5HlkKzmlbDmja7nmoTlj5jljJbvvIzlu7bml7ZyZWZyZXNoRGVsYXnml7bpl7TlkI7osIPnlKhyZWZyZXNo5pa55rOV6YeN5paw6K6h566X77yM5L+d6K+B5rua5Yqo5pWI5p6c5q2j5bi4DQogICAgZGF0YSgpIHsNCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLnJlZnJlc2goKTsNCiAgICAgIH0sIHRoaXMucmVmcmVzaERlbGF5KTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["Scroll.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Scroll.vue","sourceRoot":"src/components/common/scroll","sourcesContent":["<!--  -->\r\n<template>\r\n  <div ref=\"wrapper\">\r\n    <div class=\"content\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport BScroll from \"better-scroll\";\r\n\r\nexport default {\r\n  props: {\r\n    /**\r\n     * 1 滚动的时候会派发scroll事件，会截流。\r\n     * 2 滚动的时候实时派发scroll事件，不会截流。\r\n     * 3 除了实时派发scroll事件，在swipe的情况下仍然能实时派发scroll事件\r\n     */\r\n    probeType: {\r\n      type: Number,\r\n      default: 1,\r\n    },\r\n    /**\r\n     * 点击列表是否派发click事件\r\n     */\r\n    click: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    /**\r\n     * 是否开启横向滚动\r\n     */\r\n    scrollX: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    /**\r\n     * 是否派发滚动事件\r\n     */\r\n    listenScroll: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    /**\r\n     * 列表的数据\r\n     */\r\n    data: {\r\n      type: Array,\r\n      default: null,\r\n    },\r\n    /**\r\n     * 是否派发滚动到底部的事件，用于上拉加载\r\n     */\r\n    pullup: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    /**\r\n     * 是否派发顶部下拉的事件，用于下拉刷新\r\n     */\r\n    pulldown: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    /**\r\n     * 是否派发列表滚动开始的事件\r\n     */\r\n    beforeScroll: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    /**\r\n     * 当数据更新后，刷新scroll的延时。\r\n     */\r\n    refreshDelay: {\r\n      type: Number,\r\n      default: 20,\r\n    },\r\n  },\r\n  mounted() {\r\n    // 保证在DOM渲染完毕后初始化better-scroll\r\n    setTimeout(() => {\r\n      this._initScroll();\r\n    }, 20);\r\n  },\r\n  methods: {\r\n    _initScroll() {\r\n      if (!this.$refs.wrapper) {\r\n        return;\r\n      }\r\n      // better-scroll的初始化\r\n      this.scroll = new BScroll(this.$refs.wrapper, {\r\n        probeType: this.probeType,\r\n        click: this.click,\r\n        scrollX: this.scrollX,\r\n      });\r\n\r\n      // 是否派发滚动事件\r\n      if (this.listenScroll) {\r\n        let me = this;\r\n        this.scroll.on(\"scroll\", (pos) => {\r\n          me.$emit(\"scroll\", pos);\r\n        });\r\n      }\r\n\r\n      // 是否派发滚动到底部事件，用于上拉加载\r\n      if (this.pullup) {\r\n        this.scroll.on(\"scrollEnd\", () => {\r\n          // 滚动到底部\r\n          if (this.scroll.y <= this.scroll.maxScrollY + 50) {\r\n            this.$emit(\"scrollToEnd\");\r\n          }\r\n        });\r\n      }\r\n\r\n      // 是否派发顶部下拉事件，用于下拉刷新\r\n      if (this.pulldown) {\r\n        this.scroll.on(\"touchend\", (pos) => {\r\n          // 下拉动作\r\n          if (pos.y > 50) {\r\n            this.$emit(\"pulldown\");\r\n          }\r\n        });\r\n      }\r\n\r\n      // 是否派发列表滚动开始的事件\r\n      if (this.beforeScroll) {\r\n        this.scroll.on(\"beforeScrollStart\", () => {\r\n          this.$emit(\"beforeScroll\");\r\n        });\r\n      }\r\n    },\r\n    disable() {\r\n      // 代理better-scroll的disable方法\r\n      this.scroll && this.scroll.disable();\r\n    },\r\n    enable() {\r\n      // 代理better-scroll的enable方法\r\n      this.scroll && this.scroll.enable();\r\n    },\r\n    refresh() {\r\n      // 代理better-scroll的refresh方法\r\n      this.scroll && this.scroll.refresh();\r\n    },\r\n    scrollTo() {\r\n      // 代理better-scroll的scrollTo方法\r\n      this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments);\r\n    },\r\n    scrollToElement() {\r\n      // 代理better-scroll的scrollToElement方法\r\n      this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments);\r\n    },\r\n  },\r\n  watch: {\r\n    // 监听数据的变化，延时refreshDelay时间后调用refresh方法重新计算，保证滚动效果正常\r\n    data() {\r\n      setTimeout(() => {\r\n        this.refresh();\r\n      }, this.refreshDelay);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n</style>"]}]}